{%- if site.enable_math -%}
  <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      },
      startup: {
        ready: function () {
          MathJax.startup.defaultReady();
          // Disable MathJAX's automatic re-rendering on style changes
          if (MathJax.startup.document && MathJax.startup.document.state) {
            MathJax.startup.document.state(0).jax = {};
          }
        }
      }
    };
  </script>
  <script async type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@{{ site.mathjax.version }}/es5/tex-mml-chtml.js"></script>
  {%- endif %}